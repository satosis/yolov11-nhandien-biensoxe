mqtt:
  host: mosquitto
  port: 1883
  topic_prefix: frigate

record:
  enabled: true
  retain:
    days: 0
  events:
    retain:
      default: 30
    pre_capture: 5
    post_capture: 10

cameras:
  imou_2k:
    ffmpeg:
      inputs:
        # Main stream for recording
        - path: rtsp://<USER>:<PASS>@<CAMERA_IP>:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - record
        # Sub stream for detection (lighter)
        - path: rtsp://<USER>:<PASS>@<CAMERA_IP>:554/cam/realmonitor?channel=1&subtype=1
          roles:
            - detect
    detect:
      width: 640
      height: 360
      fps: 5
    objects:
      track:
        - person
        - car
        - truck
    motion:
      # Tune these if lighting changes cause false positives
      threshold: 35
      contour_area: 100
      improve_contrast: true
    zones:
      gate:
        coordinates: []  # TODO: fill after calibrating layout

# Record only on motion/events (no 24/7 recording)
# Adjust zones to limit detection/recording to the gate area.
